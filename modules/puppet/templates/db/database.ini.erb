[database]
# For the embedded DB: org.hsqldb.jdbcDriver
# For PostgreSQL: org.postgresql.Driver
# Defaults to embedded DB
<% if @pgsql = true %>
classname = org.postgresql.Driver
<% else %>
classname = org.hsqldb.jdbcDriver
<% end %>

# For the embedded DB: hsqldb
# For PostgreSQL: postgresql
# Defaults to embedded DB
<% if @pgsql = true %>
subprotocol = postgresql
<% else %>
subprotocol = hsqldb
<% end %>

# For the embedded DB: file:/path/to/database;hsqldb.tx=mvcc;sql.syntax_pgs=true
# For PostgreSQL: //host:port/databaseName
# Defaults to embedded DB located in <vardir>/db
<% if @pgsql = true %>
subname = //<%= @pg_host -%>:5432/puppetdb
<% else %>
subname = file:/opt/puppetlabs/server/data/puppetdb/db/db;hsqldb.tx=mvcc;sql.syntax_pgs=true
<% end %>

# Connect as a specific user
# username = foobar
<% if @pgsql = true %>
username = puppetdb
<% end %>

# Use a specific password
# password = foobar
<% if @pgsql = true %>
password = <%= @pg_puppetdb_passwd %>
<% end %>

# How often (in minutes) to compact the database
# gc-interval = 60

# Number of seconds before any SQL query is considered 'slow'; offending
# queries will not be interrupted, but will be logged at the WARN log level.
log-slow-statements = 10
